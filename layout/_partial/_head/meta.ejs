<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />

<!-- Disable transformation -->
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="<%= page.layout || 'website' %>" />
<meta property="og:url" content="<%= url %>">
<meta property="og:title" content="<%= title %>">
<meta property="og:description" content="<%= description %>">
<meta property="og:site_name" content="<%= config.title %>">
<% if (page.date) { %>
<meta property="article:published_time" content="<%= page.date.toISOString() %>">
<% } %>
<% if (page.updated) { %>
<meta property="article:modified_time" content="<%= page.updated.toISOString() %>">
<% } %>

<!-- Twitter Card -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="<%= url %>">
<meta property="twitter:title" content="<%= title %>">
<meta property="twitter:description" content="<%= description %>">

<!-- Website description -->
<% var description = '';
if (page.description) {
  description = page.description;
} else if (page.excerpt) {
  description = strip_html(page.excerpt).replace(/^\s*/, '').replace(/\s*$/, '');
} else if (page.content) {
  description = strip_html(page.content).substring(0, 200).replace(/^\s*/, '').replace(/\s*$/, '');
} else if (page.title) {
  description = page.title;
} else if (config.description) {
  description = config.description;
} else {
  description = config.title;
}
%>
<meta name="description" content="<%= description %>" />
<meta property="og:description" content="<%= description %>" />
<meta property="twitter:description" content="<%= description %>" />

<!-- Website keywords -->
<% var keywords = '';
if (page.keywords) {
  keywords = page.keywords;
} else if (page.tags && page.tags.length) {
  var tagNames = [];
  page.tags.forEach(function(tag) { tagNames.push(tag.name); });
  keywords = tagNames.join(', ');
} else if (config.keywords) {
  if (Array.isArray(config.keywords)) {
    keywords = config.keywords.join(', ');
  } else {
    keywords = config.keywords;
  }
} else {
  keywords = config.title;
}
%>
<meta name="keywords" content="<%= keywords %>" />

<!-- Canonical URL -->
<% var canonicalUrl = '';
if (page.canonical_path) {
  canonicalUrl = config.url + '/' + page.canonical_path.replace('index.html', '');
} else if (page.path) {
  canonicalUrl = config.url + '/' + page.path.replace('index.html', '');
} else {
  canonicalUrl = config.url;
}
%>
<link rel="canonical" href="<%= canonicalUrl %>" />

<!-- Alternate RSS Feed -->
<% if (config.feed && config.feed.path) { %>
<link rel="alternate" type="application/atom+xml" title="<%= config.title %>" href="<%= config.url %>/<%= config.feed.path %>" />
<% } %>
<% if (theme.baidu_verification) { %>
<meta name="baidu-site-verification" content="<%- theme.baidu_verification %>" />
<% } %>
<% if (theme.google_verification) { %>
<meta name="google-site-verification" content="<%- theme.google_verification %>" />
<% } %>